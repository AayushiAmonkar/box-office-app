{"ast":null,"code":"import _slicedToArray from\"C:/Users/Aayushi Amonkar/Documents/web development/ReactCourseIntensala/module3/box-office/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import MainPageLayout from\"../components/MainPageLayout\";import ShowGrid from\"../components/show/ShowGrid\";import{apiGet}from\"../misc/Config\";import{useShows}from\"../misc/custom-hooks\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Starred=function Starred(){var _useShows=useShows(),_useShows2=_slicedToArray(_useShows,1),starred=_useShows2[0];var _useState=useState(null),_useState2=_slicedToArray(_useState,2),shows=_useState2[0],setShows=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){if(starred&&starred.length>0){var promises=starred.map(function(showId){return apiGet(\"/shows/\".concat(showId));});Promise.all(promises).then(function(apiData){return apiData.map(function(show){return{show:show};});}).then(function(results){// console.log(\"results\", results);\nsetShows(results);setIsLoading(false);}).catch(function(err){setError(err.message);setIsLoading(false);});}else{setIsLoading(false);}},[starred]);return/*#__PURE__*/_jsxs(MainPageLayout,{children:[isLoading&&/*#__PURE__*/_jsx(\"div\",{children:\"Show are still loading\"}),error&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Error occured \",error]}),!isLoading&&!shows&&/*#__PURE__*/_jsx(\"div\",{children:\"No Shows were added\"}),!isLoading&&!error&&shows&&/*#__PURE__*/_jsx(ShowGrid,{data:shows})]});};export default Starred;","map":{"version":3,"names":["React","useEffect","useState","MainPageLayout","ShowGrid","apiGet","useShows","Starred","starred","shows","setShows","isLoading","setIsLoading","error","setError","length","promises","map","showId","Promise","all","then","apiData","show","results","catch","err","message"],"sources":["C:/Users/Aayushi Amonkar/Documents/web development/ReactCourseIntensala/module3/box-office/src/pages/Starred.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport MainPageLayout from \"../components/MainPageLayout\";\r\nimport ShowGrid from \"../components/show/ShowGrid\";\r\nimport { apiGet } from \"../misc/Config\";\r\nimport { useShows } from \"../misc/custom-hooks\";\r\n\r\nconst Starred = () => {\r\n  const [starred] = useShows();\r\n\r\n  const [shows, setShows] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (starred && starred.length > 0) {\r\n      const promises = starred.map((showId) => apiGet(`/shows/${showId}`));\r\n\r\n      Promise.all(promises)\r\n        .then((apiData) => apiData.map((show) => ({ show })))\r\n        .then((results) => {\r\n          // console.log(\"results\", results);\r\n\r\n          setShows(results);\r\n          setIsLoading(false);\r\n        })\r\n        .catch((err) => {\r\n          setError(err.message);\r\n          setIsLoading(false);\r\n        });\r\n    } else {\r\n      setIsLoading(false);\r\n    }\r\n  }, [starred]);\r\n\r\n  return (\r\n    <MainPageLayout>\r\n      {isLoading && <div>Show are still loading</div>}\r\n      {error && <div>Error occured {error}</div>}\r\n      {!isLoading && !shows && <div>No Shows were added</div>}\r\n      {!isLoading && !error && shows && <ShowGrid data={shows} />}\r\n    </MainPageLayout>\r\n  );\r\n};\r\n\r\nexport default Starred;\r\n"],"mappings":"gLAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,eAAP,KAA2B,8BAA3B,CACA,MAAOC,SAAP,KAAqB,6BAArB,CACA,OAASC,MAAT,KAAuB,gBAAvB,CACA,OAASC,QAAT,KAAyB,sBAAzB,C,wFAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CACpB,cAAkBD,QAAQ,EAA1B,wCAAOE,OAAP,eAEA,cAA0BN,QAAQ,CAAC,IAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eACA,eAAkCR,QAAQ,CAAC,IAAD,CAA1C,yCAAOS,SAAP,eAAkBC,YAAlB,eACA,eAA0BV,QAAQ,CAAC,IAAD,CAAlC,yCAAOW,KAAP,eAAcC,QAAd,eAEAb,SAAS,CAAC,UAAM,CACd,GAAIO,OAAO,EAAIA,OAAO,CAACO,MAAR,CAAiB,CAAhC,CAAmC,CACjC,GAAMC,SAAQ,CAAGR,OAAO,CAACS,GAAR,CAAY,SAACC,MAAD,QAAYb,OAAM,kBAAWa,MAAX,EAAlB,EAAZ,CAAjB,CAEAC,OAAO,CAACC,GAAR,CAAYJ,QAAZ,EACGK,IADH,CACQ,SAACC,OAAD,QAAaA,QAAO,CAACL,GAAR,CAAY,SAACM,IAAD,QAAW,CAAEA,IAAI,CAAJA,IAAF,CAAX,EAAZ,CAAb,EADR,EAEGF,IAFH,CAEQ,SAACG,OAAD,CAAa,CACjB;AAEAd,QAAQ,CAACc,OAAD,CAAR,CACAZ,YAAY,CAAC,KAAD,CAAZ,CACD,CAPH,EAQGa,KARH,CAQS,SAACC,GAAD,CAAS,CACdZ,QAAQ,CAACY,GAAG,CAACC,OAAL,CAAR,CACAf,YAAY,CAAC,KAAD,CAAZ,CACD,CAXH,EAYD,CAfD,IAeO,CACLA,YAAY,CAAC,KAAD,CAAZ,CACD,CACF,CAnBQ,CAmBN,CAACJ,OAAD,CAnBM,CAAT,CAqBA,mBACE,MAAC,cAAD,YACGG,SAAS,eAAI,+CADhB,CAEGE,KAAK,eAAI,wCAAoBA,KAApB,GAFZ,CAGG,CAACF,SAAD,EAAc,CAACF,KAAf,eAAwB,4CAH3B,CAIG,CAACE,SAAD,EAAc,CAACE,KAAf,EAAwBJ,KAAxB,eAAiC,KAAC,QAAD,EAAU,IAAI,CAAEA,KAAhB,EAJpC,GADF,CAQD,CApCD,CAsCA,cAAeF,QAAf"},"metadata":{},"sourceType":"module"}