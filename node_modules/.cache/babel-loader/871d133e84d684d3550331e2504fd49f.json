{"ast":null,"code":"import _slicedToArray from\"C:/Users/Aayushi Amonkar/Documents/web development/ReactCourseIntensala/module3/box-office/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import MainPageLayout from\"../components/MainPageLayout\";import{apiGet}from\"../misc/Config\";import ShowGrid from\"../components/show/ShowGrid\";import ActorGrid from\"../components/actor/ActorGrid\";import{useLastQuery}from\"../misc/custom-hooks\";import{SearchInput,RadioInputsWrapper,SearchButtonWrapper}from\"./Home.styled\";import CustomRadio from\"../components/CustomRadio\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useLastQuery=useLastQuery(),_useLastQuery2=_slicedToArray(_useLastQuery,2),input=_useLastQuery2[0],setInput=_useLastQuery2[1];var _useState=useState(null),_useState2=_slicedToArray(_useState,2),results=_useState2[0],setResults=_useState2[1];var _useState3=useState(\"shows\"),_useState4=_slicedToArray(_useState3,2),searchOption=_useState4[0],setSearchOption=_useState4[1];var isShowsSearch=searchOption===\"shows\";var onSearch=function onSearch(){apiGet(\"/search/\".concat(searchOption,\"?q=\").concat(input)).then(function(result){setResults(result);});};var onInputChange=function onInputChange(ev){setInput(ev.target.value);};var onKeyDown=function onKeyDown(ev){if(ev.keyCode===13){onSearch();}};var onRadioChange=function onRadioChange(ev){setSearchOption(ev.target.value);};var renderResults=function renderResults(){if(results&&results.length===0){return/*#__PURE__*/_jsx(\"div\",{children:\"No results\"});}if(results&&results.length>0){return results[0].show?/*#__PURE__*/_jsx(ShowGrid,{data:results}):/*#__PURE__*/_jsx(ActorGrid,{data:results});}return null;};return/*#__PURE__*/_jsxs(MainPageLayout,{children:[/*#__PURE__*/_jsx(SearchInput,{type:\"text\",placeholder:\"Search for something\",onChange:onInputChange,onKeyDown:onKeyDown,value:input}),/*#__PURE__*/_jsxs(RadioInputsWrapper,{children:[/*#__PURE__*/_jsx(CustomRadio,{id:\"shows-search\",value:\"shows\",checked:isShowsSearch,onChange:onRadioChange,label:\"Shows\"}),/*#__PURE__*/_jsx(CustomRadio,{label:\"Actors\",id:\"actors-search\",value:\"people\",checked:!isShowsSearch,onChange:onRadioChange})]}),/*#__PURE__*/_jsx(SearchButtonWrapper,{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onSearch,children:\"Search\"})}),renderResults()]});};export default Home;","map":{"version":3,"names":["React","useState","MainPageLayout","apiGet","ShowGrid","ActorGrid","useLastQuery","SearchInput","RadioInputsWrapper","SearchButtonWrapper","CustomRadio","Home","input","setInput","results","setResults","searchOption","setSearchOption","isShowsSearch","onSearch","then","result","onInputChange","ev","target","value","onKeyDown","keyCode","onRadioChange","renderResults","length","show"],"sources":["C:/Users/Aayushi Amonkar/Documents/web development/ReactCourseIntensala/module3/box-office/src/pages/Home.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport MainPageLayout from \"../components/MainPageLayout\";\r\nimport { apiGet } from \"../misc/Config\";\r\nimport ShowGrid from \"../components/show/ShowGrid\";\r\nimport ActorGrid from \"../components/actor/ActorGrid\";\r\nimport { useLastQuery } from \"../misc/custom-hooks\";\r\nimport {\r\n  SearchInput,\r\n  RadioInputsWrapper,\r\n  SearchButtonWrapper,\r\n} from \"./Home.styled\";\r\nimport CustomRadio from \"../components/CustomRadio\";\r\n\r\nconst Home = () => {\r\n  const [input, setInput] = useLastQuery();\r\n  const [results, setResults] = useState(null);\r\n  const [searchOption, setSearchOption] = useState(\"shows\");\r\n\r\n  const isShowsSearch = searchOption === \"shows\";\r\n  const onSearch = () => {\r\n    apiGet(`/search/${searchOption}?q=${input}`).then((result) => {\r\n      setResults(result);\r\n    });\r\n  };\r\n\r\n  const onInputChange = (ev) => {\r\n    setInput(ev.target.value);\r\n  };\r\n\r\n  const onKeyDown = (ev) => {\r\n    if (ev.keyCode === 13) {\r\n      onSearch();\r\n    }\r\n  };\r\n\r\n  const onRadioChange = (ev) => {\r\n    setSearchOption(ev.target.value);\r\n  };\r\n\r\n  const renderResults = () => {\r\n    if (results && results.length === 0) {\r\n      return <div>No results</div>;\r\n    }\r\n\r\n    if (results && results.length > 0) {\r\n      return results[0].show ? (\r\n        <ShowGrid data={results} />\r\n      ) : (\r\n        <ActorGrid data={results} />\r\n      );\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <MainPageLayout>\r\n      <SearchInput\r\n        type=\"text\"\r\n        placeholder=\"Search for something\"\r\n        onChange={onInputChange}\r\n        onKeyDown={onKeyDown}\r\n        value={input}\r\n      />\r\n\r\n      <RadioInputsWrapper>\r\n        <CustomRadio\r\n          id=\"shows-search\"\r\n          value=\"shows\"\r\n          checked={isShowsSearch}\r\n          onChange={onRadioChange}\r\n          label=\"Shows\"\r\n        />\r\n\r\n        <CustomRadio\r\n          label=\"Actors\"\r\n          id=\"actors-search\"\r\n          value=\"people\"\r\n          checked={!isShowsSearch}\r\n          onChange={onRadioChange}\r\n        />\r\n      </RadioInputsWrapper>\r\n\r\n      <SearchButtonWrapper>\r\n        <button type=\"button\" onClick={onSearch}>\r\n          Search\r\n        </button>\r\n      </SearchButtonWrapper>\r\n      {renderResults()}\r\n    </MainPageLayout>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"gLAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,eAAP,KAA2B,8BAA3B,CACA,OAASC,MAAT,KAAuB,gBAAvB,CACA,MAAOC,SAAP,KAAqB,6BAArB,CACA,MAAOC,UAAP,KAAsB,+BAAtB,CACA,OAASC,YAAT,KAA6B,sBAA7B,CACA,OACEC,WADF,CAEEC,kBAFF,CAGEC,mBAHF,KAIO,eAJP,CAKA,MAAOC,YAAP,KAAwB,2BAAxB,C,wFAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CACjB,kBAA0BL,YAAY,EAAtC,gDAAOM,KAAP,mBAAcC,QAAd,mBACA,cAA8BZ,QAAQ,CAAC,IAAD,CAAtC,wCAAOa,OAAP,eAAgBC,UAAhB,eACA,eAAwCd,QAAQ,CAAC,OAAD,CAAhD,yCAAOe,YAAP,eAAqBC,eAArB,eAEA,GAAMC,cAAa,CAAGF,YAAY,GAAK,OAAvC,CACA,GAAMG,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACrBhB,MAAM,mBAAYa,YAAZ,eAA8BJ,KAA9B,EAAN,CAA6CQ,IAA7C,CAAkD,SAACC,MAAD,CAAY,CAC5DN,UAAU,CAACM,MAAD,CAAV,CACD,CAFD,EAGD,CAJD,CAMA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,EAAD,CAAQ,CAC5BV,QAAQ,CAACU,EAAE,CAACC,MAAH,CAAUC,KAAX,CAAR,CACD,CAFD,CAIA,GAAMC,UAAS,CAAG,QAAZA,UAAY,CAACH,EAAD,CAAQ,CACxB,GAAIA,EAAE,CAACI,OAAH,GAAe,EAAnB,CAAuB,CACrBR,QAAQ,GACT,CACF,CAJD,CAMA,GAAMS,cAAa,CAAG,QAAhBA,cAAgB,CAACL,EAAD,CAAQ,CAC5BN,eAAe,CAACM,EAAE,CAACC,MAAH,CAAUC,KAAX,CAAf,CACD,CAFD,CAIA,GAAMI,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CAC1B,GAAIf,OAAO,EAAIA,OAAO,CAACgB,MAAR,GAAmB,CAAlC,CAAqC,CACnC,mBAAO,mCAAP,CACD,CAED,GAAIhB,OAAO,EAAIA,OAAO,CAACgB,MAAR,CAAiB,CAAhC,CAAmC,CACjC,MAAOhB,QAAO,CAAC,CAAD,CAAP,CAAWiB,IAAX,cACL,KAAC,QAAD,EAAU,IAAI,CAAEjB,OAAhB,EADK,cAGL,KAAC,SAAD,EAAW,IAAI,CAAEA,OAAjB,EAHF,CAKD,CAED,MAAO,KAAP,CACD,CAdD,CAgBA,mBACE,MAAC,cAAD,yBACE,KAAC,WAAD,EACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,sBAFd,CAGE,QAAQ,CAAEQ,aAHZ,CAIE,SAAS,CAAEI,SAJb,CAKE,KAAK,CAAEd,KALT,EADF,cASE,MAAC,kBAAD,yBACE,KAAC,WAAD,EACE,EAAE,CAAC,cADL,CAEE,KAAK,CAAC,OAFR,CAGE,OAAO,CAAEM,aAHX,CAIE,QAAQ,CAAEU,aAJZ,CAKE,KAAK,CAAC,OALR,EADF,cASE,KAAC,WAAD,EACE,KAAK,CAAC,QADR,CAEE,EAAE,CAAC,eAFL,CAGE,KAAK,CAAC,QAHR,CAIE,OAAO,CAAE,CAACV,aAJZ,CAKE,QAAQ,CAAEU,aALZ,EATF,GATF,cA2BE,KAAC,mBAAD,wBACE,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAET,QAA/B,oBADF,EA3BF,CAgCGU,aAAa,EAhChB,GADF,CAoCD,CA9ED,CAgFA,cAAelB,KAAf"},"metadata":{},"sourceType":"module"}